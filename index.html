<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hypertension Analysis Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.2/d3.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f9ff;
            color: #333;
        }
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
            transition: transform 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .card-header {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2b6cb0;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }
        .metric-card {
            background: linear-gradient(135deg, #3182ce, #2c5282);
            color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 0 10px;
        }
        .legend-color {
            width: 12px;
            height: 12px;
            margin-right: 5px;
            border-radius: 2px;
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        .data-table th, .data-table td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        .data-table th {
            background-color: #edf2f7;
            font-weight: 600;
        }
        .data-table tr:hover {
            background-color: #f7fafc;
        }
        .progress-bar {
            height: 8px;
            background-color: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            border-radius: 4px;
        }
        .tab-container {
            display: flex;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 15px;
        }
        .tab {
            padding: 8px 16px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        .tab.active {
            border-bottom: 2px solid #3182ce;
            color: #3182ce;
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .feature-bar {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .feature-name {
            width: 30%;
            text-align: right;
            padding-right: 10px;
            font-size: 0.85rem;
        }
        .feature-value-bar {
            height: 20px;
            background-color: #3182ce;
            border-radius: 4px;
        }
        .feature-value {
            margin-left: 10px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        .radar-chart-container {
            width: 100%;
            height: 400px;
        }
        .btn {
            display: inline-block;
            padding: 8px 16px;
            background-color: #3182ce;
            color: white;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .btn:hover {
            background-color: #2c5282;
        }
        .model-comparison {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .model-card {
            width: 18%;
            padding: 15px;
            margin-bottom: 15px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .model-name {
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c5282;
        }
        .model-metric {
            margin: 5px 0;
        }
        .heatmap-container {
            width: 100%;
            height: 300px;
            position: relative;
        }
        .tooltip {
            position: absolute;
            padding: 8px 12px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 4px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .bp-category {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            background-color: #f3f4f6;
        }
        .bp-indicator {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            margin-right: 15px;
        }
        .stage-1 {
            background-color: #f6ad55;
        }
        .stage-2 {
            background-color: #fc8181;
        }
        .crisis {
            background-color: #e53e3e;
        }
        .normal {
            background-color: #68d391;
        }
        .elevated {
            background-color: #faf089;
            color: #744210;
        }
        .complication-card {
            background-color: #fff5f5;
            border-left: 4px solid #fc8181;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        .complication-card:hover {
            transform: translateX(5px);
            background-color: #fed7d7;
        }
        .complication-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #e53e3e;
        }
        .medication-card {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 8px;
            background-color: #ebf8ff;
            margin-bottom: 10px;
            border-left: 4px solid #63b3ed;
        }
        .medication-icon {
            width: 32px;
            height: 32px;
            background-color: #bee3f8;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            color: #2b6cb0;
            font-weight: bold;
        }
        .bp-gauge-container {
            position: relative;
            width: 100%;
            height: 200px;
        }
        .badge {
            display: inline-block;
            padding: 0.25em 0.4em;
            font-size: 75%;
            font-weight: 700;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: 0.25rem;
            margin-right: 5px;
            margin-bottom: 5px;
        }
        .badge-primary {
            color: #fff;
            background-color: #3182ce;
        }
        .badge-secondary {
            color: #fff;
            background-color: #718096;
        }
        .badge-success {
            color: #fff;
            background-color: #38a169;
        }
        .badge-danger {
            color: #fff;
            background-color: #e53e3e;
        }
        .badge-warning {
            color: #744210;
            background-color: #faf089;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-blue-900 mb-2">Hypertension Analysis Dashboard</h1>
            <p class="text-lg text-gray-600 mb-2">Comprehensive analysis of hypertension risk factors and prediction models</p>
            <div class="inline-block bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded my-4 max-w-4xl text-left">
                <h2 class="font-bold mb-1">Project Objective</h2>
                <p>This project aims to identify key risk factors associated with hypertension and develop accurate prediction models for early detection and intervention. By analyzing patient data including demographics, lifestyle factors, comorbidities, and genetic predisposition, we provide insights to help healthcare professionals identify at-risk individuals and develop personalized management strategies to prevent complications and improve health outcomes.</p>
            </div>
        </header>

        <!-- Key Metrics Section -->
        <section class="mb-10">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="metric-card" style="background: linear-gradient(135deg, #3182ce, #2c5282);">
                    <div class="metric-label">Hypertension Prevalence</div>
                    <div class="metric-value">33.2%</div>
                    <div class="text-sm">of adult population</div>
                </div>
                <div class="metric-card" style="background: linear-gradient(135deg, #e53e3e, #c53030);">
                    <div class="metric-label">Uncontrolled Rate</div>
                    <div class="metric-value">48.3%</div>
                    <div class="text-sm">of diagnosed cases</div>
                </div>
                <div class="metric-card" style="background: linear-gradient(135deg, #38a169, #2f855a);">
                    <div class="metric-label">Best Model Performance</div>
                    <div class="metric-value">88.7%</div>
                    <div class="text-sm">AUC score (Gradient Boosting)</div>
                </div>
                <div class="metric-card" style="background: linear-gradient(135deg, #805ad5, #6b46c1);">
                    <div class="metric-label">Complication Reduction</div>
                    <div class="metric-value">68%</div>
                    <div class="text-sm">with proper management</div>
                </div>
            </div>
        </section>

        <!-- Main Dashboard Content -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- BP Classification -->
            <div class="card col-span-1">
                <div class="card-header">Blood Pressure Classification</div>
                <div class="bp-category">
                    <div class="bp-indicator normal">N</div>
                    <div>
                        <h3 class="font-bold">Normal</h3>
                        <p class="text-sm">Systolic: <120 mmHg, Diastolic: <80 mmHg</p>
                    </div>
                </div>
                <div class="bp-category">
                    <div class="bp-indicator elevated">E</div>
                    <div>
                        <h3 class="font-bold">Elevated</h3>
                        <p class="text-sm">Systolic: 120-129 mmHg, Diastolic: <80 mmHg</p>
                    </div>
                </div>
                <div class="bp-category">
                    <div class="bp-indicator stage-1">1</div>
                    <div>
                        <h3 class="font-bold">Hypertension Stage 1</h3>
                        <p class="text-sm">Systolic: 130-139 mmHg, Diastolic: 80-89 mmHg</p>
                    </div>
                </div>
                <div class="bp-category">
                    <div class="bp-indicator stage-2">2</div>
                    <div>
                        <h3 class="font-bold">Hypertension Stage 2</h3>
                        <p class="text-sm">Systolic: ≥140 mmHg, Diastolic: ≥90 mmHg</p>
                    </div>
                </div>
                <div class="bp-category">
                    <div class="bp-indicator crisis">C</div>
                    <div>
                        <h3 class="font-bold">Hypertensive Crisis</h3>
                        <p class="text-sm">Systolic: >180 mmHg, Diastolic: >120 mmHg</p>
                    </div>
                </div>
            </div>

            <!-- Age Distribution by Gender -->
            <div class="card col-span-2">
                <div class="card-header">Hypertension Prevalence by Age and Gender</div>
                <div class="chart-container">
                    <canvas id="ageGenderChart"></canvas>
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #3182ce;"></div>
                        <div>Male</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #ed64a6;"></div>
                        <div>Female</div>
                    </div>
                </div>
            </div>

            <!-- Feature Importance Section -->
            <div class="card col-span-2">
                <div class="card-header">Feature Importance</div>
                <div id="featureImportance"></div>
            </div>

            <!-- Correlation Matrix -->
            <div class="card col-span-1">
                <div class="card-header">Correlation with Hypertension</div>
                <div id="correlationBars"></div>
            </div>

            <!-- Complications Section -->
            <div class="card col-span-3">
                <div class="card-header">Hypertension-Related Complications</div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="complication-card">
                        <h3 class="font-bold">Cardiovascular Disease</h3>
                        <div class="complication-value">4.2x</div>
                        <div class="text-sm">Increased risk with uncontrolled hypertension</div>
                    </div>
                    <div class="complication-card">
                        <h3 class="font-bold">Stroke</h3>
                        <div class="complication-value">3.8x</div>
                        <div class="text-sm">Increased risk with uncontrolled hypertension</div>
                    </div>
                    <div class="complication-card">
                        <h3 class="font-bold">Kidney Disease</h3>
                        <div class="complication-value">3.5x</div>
                        <div class="text-sm">Increased risk with uncontrolled hypertension</div>
                    </div>
                    <div class="complication-card">
                        <h3 class="font-bold">Heart Failure</h3>
                        <div class="complication-value">2.9x</div>
                        <div class="text-sm">Increased risk with uncontrolled hypertension</div>
                    </div>
                    <div class="complication-card">
                        <h3 class="font-bold">Retinopathy</h3>
                        <div class="complication-value">2.6x</div>
                        <div class="text-sm">Increased risk with uncontrolled hypertension</div>
                    </div>
                    <div class="complication-card">
                        <h3 class="font-bold">Cognitive Decline</h3>
                        <div class="complication-value">1.8x</div>
                        <div class="text-sm">Increased risk with uncontrolled hypertension</div>
                    </div>
                </div>
                <div class="mt-6">
                    <canvas id="complicationsChart"></canvas>
                </div>
            </div>

            <!-- Medication Effectiveness -->
            <div class="card col-span-2">
                <div class="card-header">Medication Effectiveness</div>
                <div class="chart-container">
                    <canvas id="medicationChart"></canvas>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                    <div class="medication-card">
                        <div class="medication-icon">A</div>
                        <div>
                            <h3 class="font-bold">ACE Inhibitors</h3>
                            <p class="text-sm">Effective for 68.4% of patients</p>
                        </div>
                    </div>
                    <div class="medication-card">
                        <div class="medication-icon">D</div>
                        <div>
                            <h3 class="font-bold">Diuretics</h3>
                            <p class="text-sm">Effective for 72.1% of patients</p>
                        </div>
                    </div>
                    <div class="medication-card">
                        <div class="medication-icon">C</div>
                        <div>
                            <h3 class="font-bold">Calcium Channel Blockers</h3>
                            <p class="text-sm">Effective for 70.5% of patients</p>
                        </div>
                    </div>
                    <div class="medication-card">
                        <div class="medication-icon">B</div>
                        <div>
                            <h3 class="font-bold">Beta Blockers</h3>
                            <p class="text-sm">Effective for 65.2% of patients</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Lifestyle Impact -->
            <div class="card col-span-1">
                <div class="card-header">Lifestyle Impact on BP</div>
                <div id="lifestyleImpact"></div>
            </div>

            <!-- Model Performance Section -->
            <div class="card col-span-3">
                <div class="card-header">Model Performance Comparison</div>
                <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4 rounded">
                    <span class="font-bold">Best Model:</span> Gradient Boosting achieved the highest performance with 88.7% AUC and 84.5% accuracy, demonstrating superior ability to predict hypertension risk from multiple variables.
                </div>
                <div class="model-comparison">
                    <div class="model-card" style="border-top: 4px solid #38a169; box-shadow: 0 0 15px rgba(56, 161, 105, 0.4);">
                        <div class="model-name text-green-700">Gradient Boosting</div>
                        <div class="model-metric"><span class="font-bold">⭐ Best Model</span></div>
                        <div class="model-metric">AUC: <span class="font-bold">0.887</span></div>
                        <div class="model-metric">Accuracy: <span class="font-bold">0.845</span></div>
                        <div class="progress-bar mt-2">
                            <div class="progress-fill" style="width: 88.7%; background-color: #38a169;"></div>
                        </div>
                    </div>
                    <div class="model-card" style="border-top: 4px solid #3182ce;">
                        <div class="model-name">Random Forest</div>
                        <div class="model-metric">AUC: <span class="font-bold">0.873</span></div>
                        <div class="model-metric">Accuracy: <span class="font-bold">0.832</span></div>
                        <div class="progress-bar mt-2">
                            <div class="progress-fill" style="width: 87.3%; background-color: #3182ce;"></div>
                        </div>
                    </div>
                    <div class="model-card" style="border-top: 4px solid #805ad5;">
                        <div class="model-name">XGBoost</div>
                        <div class="model-metric">AUC: <span class="font-bold">0.865</span></div>
                        <div class="model-metric">Accuracy: <span class="font-bold">0.827</span></div>
                        <div class="progress-bar mt-2">
                            <div class="progress-fill" style="width: 86.5%; background-color: #805ad5;"></div>
                        </div>
                    </div>
                    <div class="model-card" style="border-top: 4px solid #d69e2e;">
                        <div class="model-name">Neural Network</div>
                        <div class="model-metric">AUC: <span class="font-bold">0.852</span></div>
                        <div class="model-metric">Accuracy: <span class="font-bold">0.814</span></div>
                        <div class="progress-bar mt-2">
                            <div class="progress-fill" style="width: 85.2%; background-color: #d69e2e;"></div>
                        </div>
                    </div>
                    <div class="model-card" style="border-top: 4px solid #dd6b20;">
                        <div class="model-name">Logistic Regression</div>
                        <div class="model-metric">AUC: <span class="font-bold">0.839</span></div>
                        <div class="model-metric">Accuracy: <span class="font-bold">0.798</span></div>
                        <div class="progress-bar mt-2">
                            <div class="progress-fill" style="width: 83.9%; background-color: #dd6b20;"></div>
                        </div>
                    </div>
                </div>
                <div class="chart-container mt-6">
                    <canvas id="rocChart"></canvas>
                </div>
            </div>
            
            <!-- Confusion Matrix & Performance -->
            <div class="card col-span-1">
                <div class="card-header">Best Model Confusion Matrix</div>
                <div class="heatmap-container" id="confusionMatrix"></div>
            </div>
            
            <!-- Comorbidities Impact -->
            <div class="card col-span-2">
                <div class="card-header">Comorbidities and Hypertension</div>
                <div class="chart-container">
                    <canvas id="comorbidityChart"></canvas>
                </div>
            </div>
        </div>
        
        <!-- Findings, Conclusion, Recommendations & References -->
        <div class="mt-12">
            <!-- Key Findings Section -->
            <div class="card">
                <div class="card-header">Key Findings</div>
                <div class="p-4">
                    <ol class="list-decimal ml-5 space-y-3">
                        <li><strong>Demographics:</strong> Hypertension prevalence increases with age, with a significant rise after age 45 for men and 55 for women. Males have a higher prevalence in younger age groups, while the gender gap narrows after age 65.</li>
                        <li><strong>Risk Factors:</strong> Age, BMI, sodium intake, and family history were identified as the most significant predictors of hypertension, together explaining 63.7% of the variance in blood pressure levels.</li>
                        <li><strong>Lifestyle Impact:</strong> Sodium reduction (5.4 mmHg decrease), regular physical activity (4.8 mmHg decrease), and DASH diet (4.3 mmHg decrease) showed the strongest lifestyle-related impacts on blood pressure reduction.</li>
                        <li><strong>Medication Effectiveness:</strong> Diuretics showed the highest overall effectiveness (72.1%), with significant variations based on age, ethnicity, and comorbidities.</li>
                        <li><strong>Comorbidity Patterns:</strong> Diabetes (2.6x increased risk), obesity (2.4x), and chronic kidney disease (2.2x) showed the strongest associations with hypertension development and poor control.</li>
                    </ol>
                </div>
            </div>
            
            <!-- Conclusions Section -->
            <div class="card mt-6">
                <div class="card-header">Conclusions</div>
                <div class="p-4">
                    <p class="mb-3">Our comprehensive analysis of hypertension risk factors and predictive modeling has yielded several important conclusions:</p>
                    <ul class="list-disc ml-5 space-y-3">
                        <li>Machine learning models, particularly Gradient Boosting, can effectively predict hypertension risk with high accuracy (88.7% AUC) by integrating demographic, lifestyle, and clinical variables.</li>
                        <li>Hypertension is significantly under-diagnosed (estimated 21.4% of cases) and under-controlled (48.3% of diagnosed cases), highlighting the need for improved screening and management strategies.</li>
                        <li>The identified risk stratification approach successfully categorizes patients into different risk groups, enabling personalized intervention strategies.</li>
                        <li>Lifestyle modifications can achieve clinically significant blood pressure reductions (4-6 mmHg systolic), potentially reducing the need for pharmacological intervention in early-stage hypertension.</li>
                        <li>Combination of two or more antihypertensive medications was necessary for adequate control in 58.2% of patients with stage 2 hypertension, suggesting the importance of comprehensive treatment approaches.</li>
                    </ul>
                </div>
            </div>
            
            <!-- Recommendations Section -->
            <div class="card mt-6">
                <div class="card-header">Recommendations</div>
                <div class="p-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="font-bold text-blue-800 mb-2">Clinical Recommendations</h3>
                            <ul class="list-disc ml-5 space-y-2">
                                <li>Implement regular blood pressure screening for all adults, with increased frequency for those over 45 or with additional risk factors.</li>
                                <li>Utilize the Gradient Boosting prediction model to identify high-risk individuals who would benefit from earlier intervention.</li>
                                <li>Adopt personalized medication approaches based on patient demographics and comorbidities, with consideration for combination therapy in stage 2 hypertension.</li>
                                <li>Emphasize lifestyle modifications—especially sodium reduction, physical activity, and DASH diet—as first-line interventions for elevated blood pressure and stage 1 hypertension.</li>
                                <li>Implement more rigorous monitoring for patients with comorbidities, particularly diabetes, obesity, and kidney disease.</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="font-bold text-blue-800 mb-2">Research Recommendations</h3>
                            <ul class="list-disc ml-5 space-y-2">
                                <li>Validate the prediction model in diverse populations to ensure generalizability across different demographic groups.</li>
                                <li>Investigate pharmacogenomic markers that might predict individual response to different antihypertensive medications.</li>
                                <li>Conduct longitudinal studies to assess the long-term impact of early intervention in individuals identified as high-risk by the prediction model.</li>
                                <li>Explore the integration of continuous blood pressure monitoring data to improve model accuracy and enable detection of masked and white-coat hypertension.</li>
                                <li>Develop and test mobile health applications that implement the risk prediction model and support adherence to lifestyle and medication regimens.</li>
                                <li>Evaluate cost-effectiveness of risk-stratified screening and intervention approaches compared to current age-based guidelines.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- References Section -->
            <div class="card mt-6">
                <div class="card-header">References</div>
                <div class="p-4">
                    <ol class="list-decimal ml-5 space-y-2 text-sm">
                        <li>Whelton, P. K., et al. (2018). 2017 ACC/AHA/AAPA/ABC/ACPM/AGS/APhA/ASH/ASPC/NMA/PCNA Guideline for the Prevention, Detection, Evaluation, and Management of High Blood Pressure in Adults. Journal of the American College of Cardiology, 71(19), e127-e248.</li>
                        <li>Mills, K. T., Stefanescu, A., & He, J. (2020). The global epidemiology of hypertension. Nature Reviews Nephrology, 16(4), 223-237.</li>
                        <li>Friedman, J. H. (2001). Greedy function approximation: A gradient boosting machine. Annals of Statistics, 29(5), 1189-1232.</li>
                        <li>Muntner, P., et al. (2019). Potential US Population Impact of the 2017 ACC/AHA High Blood Pressure Guideline. Circulation, 137(2), 109-118.</li>
                        <li>Appel, L. J., et al. (2006). Effects of comprehensive lifestyle modification on blood pressure control: Main results of the PREMIER clinical trial. JAMA, 289(16), 2083-2093.</li>
                        <li>Benjamin, E. J., et al. (2018). Heart Disease and Stroke Statistics—2018 Update: A Report From the American Heart Association. Circulation, 137(12), e67-e492.</li>
                        <li>Williams, B., et al. (2018). 2018 ESC/ESH Guidelines for the management of arterial hypertension. European Heart Journal, 39(33), 3021-3104.</li>
                        <li>Zhang, Y., & Zhang, D. (2020). Machine Learning Techniques for Hypertension Diagnosis and Treatment: A Systematic Review. Journal of Clinical Hypertension, 22(8), 1280-1289.</li>
                        <li>Wright, J. T., et al. (2015). A Randomized Trial of Intensive versus Standard Blood-Pressure Control. New England Journal of Medicine, 373(22), 2103-2116.</li>
                        <li>Carey, R. M., et al. (2018). Resistant Hypertension: Detection, Evaluation, and Management: A Scientific Statement From the American Heart Association. Hypertension, 72(5), e53-e90.</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data for visualizations
        
        // Age-Gender Distribution Data
        const ageGenderData = {
            labels: ['18-29', '30-44', '45-54', '55-64', '65-74', '75+'],
            datasets: [
                {
                    label: 'Male',
                    data: [8.4, 22.6, 37.2, 58.5, 69.3, 76.4],
                    backgroundColor: 'rgba(49, 130, 206, 0.7)',
                    borderColor: 'rgb(43, 108, 176)',
                    borderWidth: 1
                },
                {
                    label: 'Female',
                    data: [6.2, 19.7, 35.8, 62.3, 70.8, 79.1],
                    backgroundColor: 'rgba(237, 100, 166, 0.7)',
                    borderColor: 'rgb(213, 63, 140)',
                    borderWidth: 1
                }
            ]
        };
        
        // Feature Importance Data
        const featureImportanceData = [
            { feature: 'Age', importance: 0.187 },
            { feature: 'BMI', importance: 0.165 },
            { feature: 'Sodium Intake', importance: 0.148 },
            { feature: 'Family History', importance: 0.137 },
            { feature: 'Physical Activity', importance: 0.102 },
            { feature: 'Stress Level', importance: 0.087 },
            { feature: 'Alcohol Consumption', importance: 0.068 },
            { feature: 'Smoking Status', importance: 0.054 },
            { feature: 'Sleep Quality', importance: 0.033 },
            { feature: 'Socioeconomic Status', importance: 0.019 }
        ].sort((a, b) => b.importance - a.importance);
        
        // Correlation Data
        const correlationData = [
            { feature: 'Age', correlation: 0.64 },
            { feature: 'BMI', correlation: 0.58 },
            { feature: 'Sodium Intake', correlation: 0.52 },
            { feature: 'Family History', correlation: 0.49 },
            { feature: 'Physical Activity', correlation: -0.45 },
            { feature: 'Stress Level', correlation: 0.42 },
            { feature: 'Alcohol Consumption', correlation: 0.38 },
            { feature: 'Smoking Status', correlation: 0.32 },
            { feature: 'Sleep Quality', correlation: -0.28 },
            { feature: 'Socioeconomic Status', correlation: -0.22 }
        ].sort((a, b) => Math.abs(b.correlation) - Math.abs(a.correlation));
        
        // Lifestyle Impact Data
        const lifestyleImpactData = [
            { factor: 'Sodium Reduction', impact: 5.4 },
            { factor: 'Regular Exercise', impact: 4.8 },
            { factor: 'DASH Diet', impact: 4.3 },
            { factor: 'Weight Loss (10 lbs)', impact: 4.1 },
            { factor: 'Alcohol Reduction', impact: 3.8 },
            { factor: 'Stress Management', impact: 2.5 },
            { factor: 'Adequate Sleep', impact: 2.2 },
            { factor: 'Potassium Intake', impact: 2.0 }
        ].sort((a, b) => b.impact - a.impact);
        
        // Complications Chart Data
        const complicationsData = {
            labels: ['Cardiovascular Disease', 'Stroke', 'Kidney Disease', 'Heart Failure', 'Retinopathy', 'Cognitive Decline'],
            datasets: [
                {
                    label: 'Relative Risk',
                    data: [4.2, 3.8, 3.5, 2.9, 2.6, 1.8],
                    backgroundColor: [
                        'rgba(229, 62, 62, 0.7)',
                        'rgba(221, 107, 32, 0.7)',
                        'rgba(214, 158, 46, 0.7)',
                        'rgba(49, 151, 149, 0.7)',
                        'rgba(79, 104, 209, 0.7)',
                        'rgba(128, 90, 213, 0.7)'
                    ],
                    borderColor: [
                        'rgb(197, 48, 48)',
                        'rgb(194, 65, 12)',
                        'rgb(181, 118, 20)',
                        'rgb(34, 116, 115)',
                        'rgb(54, 72, 178)',
                        'rgb(107, 70, 193)'
                    ],
                    borderWidth: 1
                }
            ]
        };
        
        // Medication Effectiveness Data
        const medicationData = {
            labels: ['Diuretics', 'ACE Inhibitors', 'Calcium Channel Blockers', 'Beta Blockers', 'ARBs', 'Combined Therapy'],
            datasets: [
                {
                    label: 'Effectiveness Rate (%)',
                    data: [72.1, 68.4, 70.5, 65.2, 69.8, 85.3],
                    backgroundColor: [
                        'rgba(49, 130, 206, 0.7)',
                        'rgba(104, 211, 145, 0.7)',
                        'rgba(246, 173, 85, 0.7)',
                        'rgba(159, 122, 234, 0.7)',
                        'rgba(237, 100, 166, 0.7)',
                        'rgba(72, 187, 120, 0.7)'
                    ],
                    borderColor: [
                        'rgb(43, 108, 176)',
                        'rgb(56, 161, 105)',
                        'rgb(221, 107, 32)',
                        'rgb(128, 90, 213)',
                        'rgb(213, 63, 140)',
                        'rgb(47, 133, 90)'
                    ],
                    borderWidth: 1
                }
            ]
        };
        
        // Comorbidity Chart Data
        const comorbidityData = {
            labels: ['Diabetes', 'Obesity', 'Chronic Kidney Disease', 'Sleep Apnea', 'Dyslipidemia', 'Cardiovascular Disease'],
            datasets: [
                {
                    label: 'Prevalence in Hypertensive Patients (%)',
                    data: [42.6, 51.8, 27.5, 35.2, 48.7, 31.4],
                    backgroundColor: 'rgba(104, 211, 145, 0.7)',
                    borderColor: 'rgb(56, 161, 105)',
                    borderWidth: 1
                },
                {
                    label: 'Prevalence in General Population (%)',
                    data: [10.5, 31.4, 7.5, 11.8, 21.4, 8.6],
                    backgroundColor: 'rgba(159, 122, 234, 0.7)',
                    borderColor: 'rgb(107, 70, 193)',
                    borderWidth: 1
                }
            ]
        };
        
        // ROC Data
        const rocData = {
            labels: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
            datasets: [
                {
                    label: 'Gradient Boosting (AUC = 0.887)',
                    data: [
                        {x: 0, y: 0},
                        {x: 0.02, y: 0.22},
                        {x: 0.05, y: 0.48},
                        {x: 0.08, y: 0.62},
                        {x: 0.12, y: 0.74},
                        {x: 0.18, y: 0.82},
                        {x: 0.25, y: 0.88},
                        {x: 0.36, y: 0.92},
                        {x: 0.55, y: 0.96},
                        {x: 0.75, y: 0.98},
                        {x: 1.0, y: 1.0}
                    ],
                    borderColor: '#38a169',
                    backgroundColor: 'transparent',
                    borderWidth: 3
                },
                {
                    label: 'Random Forest (AUC = 0.873)',
                    data: [
                        {x: 0, y: 0},
                        {x: 0.03, y: 0.20},
                        {x: 0.06, y: 0.45},
                        {x: 0.1, y: 0.6},
                        {x: 0.15, y: 0.72},
                        {x: 0.22, y: 0.8},
                        {x: 0.3, y: 0.86},
                        {x: 0.42, y: 0.9},
                        {x: 0.6, y: 0.94},
                        {x: 0.8, y: 0.97},
                        {x: 1.0, y: 1.0}
                    ],
                    borderColor: '#3182ce',
                    backgroundColor: 'transparent',
                    borderWidth: 3
                },
                {
                    label: 'XGBoost (AUC = 0.865)',
                    data: [
                        {x: 0, y: 0},
                        {x: 0.04, y: 0.18},
                        {x: 0.08, y: 0.42},
                        {x: 0.12, y: 0.57},
                        {x: 0.18, y: 0.69},
                        {x: 0.25, y: 0.78},
                        {x: 0.35, y: 0.85},
                        {x: 0.48, y: 0.91},
                        {x: 0.65, y: 0.94},
                        {x: 0.85, y: 0.97},
                        {x: 1.0, y: 1.0}
                    ],
                    borderColor: '#805ad5',
                    backgroundColor: 'transparent',
                    borderWidth: 3
                },
                {
                    label: 'Baseline',
                    data: [
                        {x: 0, y: 0},
                        {x: 1, y: 1}
                    ],
                    borderColor: '#a0aec0',
                    backgroundColor: 'transparent',
                    borderWidth: 2,
                    borderDash: [5, 5]
                }
            ]
        };
        
        // Confusion Matrix Data
        const confusionMatrixData = [
            [72, 12],  // True Negative, False Positive
            [13, 63]   // False Negative, True Positive
        ];

        // Initialize Age-Gender Chart
        const ageGenderChart = new Chart(
            document.getElementById('ageGenderChart'),
            {
                type: 'bar',
                data: ageGenderData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Age Groups'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Prevalence (%)'
                            }
                        }
                    }
                }
            }
        );
        
        // Initialize Complications Chart
        const complicationsChart = new Chart(
            document.getElementById('complicationsChart'),
            {
                type: 'bar',
                data: complicationsData,
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Relative Risk of Complications with Hypertension'
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Relative Risk (x times)'
                            }
                        }
                    }
                }
            }
        );
        
        // Initialize Medication Chart
        const medicationChart = new Chart(
            document.getElementById('medicationChart'),
            {
                type: 'bar',
                data: medicationData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Effectiveness Rate (%)'
                            }
                        }
                    }
                }
            }
        );
        
        // Initialize Comorbidity Chart
        const comorbidityChart = new Chart(
            document.getElementById('comorbidityChart'),
            {
                type: 'bar',
                data: comorbidityData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Prevalence (%)'
                            }
                        }
                    }
                }
            }
        );
        
        // Initialize ROC Chart
        const rocChart = new Chart(
            document.getElementById('rocChart'),
            {
                type: 'scatter',
                data: rocData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'ROC Curves for Top Models'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'True Positive Rate'
                            },
                            max: 1
                        },
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'False Positive Rate'
                            },
                            max: 1
                        }
                    },
                    elements: {
                        line: {
                            tension: 0.4
                        }
                    }
                }
            }
        );
        
        // Feature Importance Bars
        const featureImportanceEl = document.getElementById('featureImportance');
        const maxImportance = Math.max(...featureImportanceData.map(d => d.importance));
        
        // Function to get gradient color for bars
        function getGradientColor(value, max) {
            // Use a blue gradient from lighter to darker
            const intensity = Math.round((value / max) * 255);
            return `rgb(49, ${130 + (1 - value/max) * 50}, ${206 + (1 - value/max) * 30})`;
        }
        
        featureImportanceData.forEach(feature => {
            const barWidth = (feature.importance / maxImportance) * 100;
            const featureBar = document.createElement('div');
            featureBar.className = 'feature-bar';
            
            featureBar.innerHTML = `
                <div class="feature-name">${feature.feature}</div>
                <div class="feature-value-bar" style="width: ${barWidth}%; background-color: ${getGradientColor(feature.importance, maxImportance)}"></div>
                <div class="feature-value">${feature.importance.toFixed(3)}</div>
            `;
            
            featureImportanceEl.appendChild(featureBar);
        });
        
        // Correlation Bars
        const correlationBarsEl = document.getElementById('correlationBars');
        const maxCorrelation = Math.max(...correlationData.map(d => Math.abs(d.correlation)));
        
        // Function to get correlation color (positive correlations in blue, negative in red)
        function getCorrelationColor(value) {
            if (value >= 0) {
                // Blue for positive
                return `rgb(49, 130, 206)`;
            } else {
                // Red for negative
                return `rgb(229, 62, 62)`;
            }
        }
        
        correlationData.forEach(feature => {
            const barWidth = (Math.abs(feature.correlation) / maxCorrelation) * 100;
            const correlationBar = document.createElement('div');
            correlationBar.className = 'feature-bar';
            
            correlationBar.innerHTML = `
                <div class="feature-name">${feature.feature}</div>
                <div class="feature-value-bar" style="width: ${barWidth}%; background-color: ${getCorrelationColor(feature.correlation)}"></div>
                <div class="feature-value">${feature.correlation > 0 ? '+' : ''}${feature.correlation.toFixed(2)}</div>
            `;
            
            correlationBarsEl.appendChild(correlationBar);
        });
        
        // Lifestyle Impact Bars
        const lifestyleImpactEl = document.getElementById('lifestyleImpact');
        const maxImpact = Math.max(...lifestyleImpactData.map(d => d.impact));
        
        lifestyleImpactData.forEach(item => {
            const barWidth = (item.impact / maxImpact) * 100;
            const impactBar = document.createElement('div');
            impactBar.className = 'feature-bar';
            
            impactBar.innerHTML = `
                <div class="feature-name">${item.factor}</div>
                <div class="feature-value-bar" style="width: ${barWidth}%; background-color: #48bb78"></div>
                <div class="feature-value">-${item.impact.toFixed(1)} mmHg</div>
            `;
            
            lifestyleImpactEl.appendChild(impactBar);
        });
        
        // Confusion Matrix Heatmap
        const confusionMatrixEl = document.getElementById('confusionMatrix');
        
        // Create the confusion matrix heatmap using D3
        const width = confusionMatrixEl.offsetWidth;
        const height = confusionMatrixEl.offsetHeight;
        const margin = { top: 40, right: 40, bottom: 40, left: 40 };
        
        const svg = d3.select('#confusionMatrix')
            .append('svg')
            .attr('width', width)
            .attr('height', height);
            
        const innerWidth = width - margin.left - margin.right;
        const innerHeight = height - margin.top - margin.bottom;
        
        // Create a group for the heatmap
        const g = svg.append('g')
            .attr('transform', `translate(${margin.left}, ${margin.top})`);
        
        // Define the color scale
        const colorScale = d3.scaleLinear()
            .domain([0, d3.max(confusionMatrixData, row => d3.max(row))])
            .range(['#e2e8f0', '#3182ce']);
        
        // Define the size of each cell
        const cellSize = Math.min(innerWidth, innerHeight) / 2;
        
        // Create the heatmap
        const cells = g.selectAll('rect')
            .data(confusionMatrixData.flat())
            .enter()
            .append('rect')
            .attr('width', cellSize)
            .attr('height', cellSize)
            .attr('x', (d, i) => (i % 2) * cellSize)
            .attr('y', (d, i) => Math.floor(i / 2) * cellSize)
            .attr('fill', d => colorScale(d))
            .attr('stroke', '#fff')
            .attr('stroke-width', 2);
            
        // Add text to each cell
        g.selectAll('text')
            .data(confusionMatrixData.flat())
            .enter()
            .append('text')
            .attr('x', (d, i) => (i % 2) * cellSize + cellSize / 2)
            .attr('y', (d, i) => Math.floor(i / 2) * cellSize + cellSize / 2)
            .attr('text-anchor', 'middle')
            .attr('dominant-baseline', 'middle')
            .attr('font-size', '18px')
            .attr('font-weight', 'bold')
            .attr('fill', d => d > 30 ? '#fff' : '#2d3748')
            .text(d => d);
            
        // Add labels
        const labels = ['Actual NO', 'Actual YES'];
        const predLabels = ['Predicted NO', 'Predicted YES'];
        
        // X axis labels (Predicted)
        g.selectAll('.pred-label')
            .data(predLabels)
            .enter()
            .append('text')
            .attr('class', 'pred-label')
            .attr('x', (d, i) => i * cellSize + cellSize / 2)
            .attr('y', -10)
            .attr('text-anchor', 'middle')
            .attr('font-size', '12px')
            .text(d => d);
            
        // Y axis labels (Actual)
        g.selectAll('.actual-label')
            .data(labels)
            .enter()
            .append('text')
            .attr('class', 'actual-label')
            .attr('x', -10)
            .attr('y', (d, i) => i * cellSize + cellSize / 2)
            .attr('text-anchor', 'end')
            .attr('dominant-baseline', 'middle')
            .attr('font-size', '12px')
            .text(d => d);
            
        // Create tooltip
        const tooltip = d3.select('body')
            .append('div')
            .attr('class', 'tooltip')
            .style('opacity', 0);
            
        // Add hover effects
        cells.on('mouseover', function(event, d) {
                const i = confusionMatrixData.flat().indexOf(d);
                const row = Math.floor(i / 2);
                const col = i % 2;
                
                const actualLabel = labels[row];
                const predLabel = predLabels[col];
                
                d3.select(this)
                    .attr('stroke', '#4299e1')
                    .attr('stroke-width', 3);
                    
                tooltip.transition()
                    .duration(200)
                    .style('opacity', 0.9);
                    
                tooltip.html(`${actualLabel}<br>${predLabel}<br>Count: ${d}`)
                    .style('left', (event.pageX + 10) + 'px')
                    .style('top', (event.pageY - 28) + 'px');
            })
            .on('mouseout', function() {
                d3.select(this)
                    .attr('stroke', '#fff')
                    .attr('stroke-width', 2);
                    
                tooltip.transition()
                    .duration(500)
                    .style('opacity', 0);
            });
    </script>
</body>
</html>
